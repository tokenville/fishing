<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>üé£ Fishing - Mini Game</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="/static/css/game.css">
    <link rel="stylesheet" href="/static/css/skeleton.css">
    <script src="/static/js/config.js"></script>
</head>
<body>
    <div id="app">
        <!-- Lobby / Main screen -->
        <div id="lobby-screen" class="screen active">
            <!-- Full-screen character -->
            <div class="game-character">
                <img src="/static/images/fisherman.svg" alt="Fisherman" class="fisherman-full">
                <div class="character-rod" id="character-rod">
                    <!-- Rod will be added dynamically -->
                </div>
            </div>
            
            <!-- Stats around character -->
            <div class="character-stats">
                <div class="stat-left">
                    <div class="stat-display">
                        <div class="stat-icon">
                            <svg viewBox="0 0 24 24">
                                <circle cx="12" cy="12" r="10" stroke-width="4"/>
                                <path d="M12 6v12M18 12H6" stroke-width="3"/>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <span class="stat-label">Level</span>
                            <span class="stat-value" id="player-level">-</span>
                        </div>
                    </div>
                </div>
                
                <div class="stat-right">
                    <div class="stat-display">
                        <div class="stat-icon">
                            <svg viewBox="0 0 24 24">
                                <path d="M4,18 Q6,16 8,18 Q10,20 12,18 Q14,16 16,18 Q18,20 20,18" stroke-width="3" fill="none"/>
                                <circle cx="4" cy="18" r="1.5" fill="currentColor"/>
                                <circle cx="20" cy="18" r="1" fill="currentColor"/>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <span class="stat-label">Bait</span>
                            <span class="stat-value" id="player-bait">-</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Inventory around character -->
            <div class="character-inventory">
                <div class="stat-left">
                    <button class="stat-display" id="rods-btn">
                        <div class="stat-icon">
                            <svg viewBox="0 0 24 24">
                                <line x1="2" y1="22" x2="22" y2="2" stroke-width="3"/>
                                <path d="M20,2 Q22,2 22,4 Q22,6 20,6" stroke-width="2" fill="none"/>
                                <circle cx="18" cy="8" r="1" fill="currentColor"/>
                                <path d="M18,8 Q16,10 14,12" stroke-width="2" fill="none"/>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <span class="stat-label">Rods</span>
                            <span class="stat-value" id="rods-count">-</span>
                        </div>
                    </button>
                </div>
                
                <div class="stat-right">
                    <button class="stat-display" id="collection-btn">
                        <div class="stat-icon">
                            <svg viewBox="0 0 24 24">
                                <path d="M6.5,12 C8,8 16,8 17.5,12 C16,16 8,16 6.5,12 Z" stroke-width="2"/>
                                <circle cx="14" cy="12" r="1" fill="currentColor"/>
                                <path d="M2,12 L6.5,12" stroke-width="2"/>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <span class="stat-label">Fish</span>
                            <span class="stat-value" id="fish-count">-</span>
                        </div>
                    </button>
                </div>
            </div>
            
            <!-- Player name at top -->
            <div class="player-name-top">
                <h2 id="player-name">Loading...</h2>
                <div class="player-balance" id="player-balance">
                    <span class="balance-label">Balance:</span>
                    <span class="balance-value" id="balance-value">$-</span>
                </div>
            </div>

            <!-- Bottom menu -->
            <div class="bottom-menu">
                <div class="waves-container">
                    <svg class="wave-svg" viewBox="0 0 100 25" preserveAspectRatio="none">
                        <path d="M0,8 Q25,3 50,8 T100,8 V30 H0 Z" fill="#87CEEB" stroke="#000" stroke-width="0.3"/>
                    </svg>
                    <svg class="wave-svg" viewBox="0 0 100 25" preserveAspectRatio="none">
                        <path d="M0,12 Q33,7 66,12 T100,12 V30 H0 Z" fill="#87CEE1" stroke="#000" stroke-width="0.3" opacity="0.8"/>
                    </svg>
                    <!-- <svg class="wave-svg" viewBox="0 0 100 25" preserveAspectRatio="none">
                        <path d="M0,10 Q20,5 40,10 Q60,15 80,10 Q90,8 100,10 V30 H0 Z" fill="#87CEEB" stroke="#000" stroke-width="0.3" opacity="0.6"/>
                    </svg> -->
                </div>
                <button class="bottom-menu-btn main-action" id="cast-btn">
                    <span class="menu-label">Cast</span>
                </button>
            </div>
        </div>

        <!-- Fish collection screen -->
        <div id="collection-screen" class="screen">
            <div class="screen-header">
                <button class="back-btn" id="collection-back-btn">‚Üê</button>
                <h2>üêü Fish Collection</h2>
            </div>
            
            <div class="fish-grid" id="fish-grid">
                <!-- Fish will be loaded dynamically -->
            </div>
        </div>

        <!-- Rods screen -->
        <div id="rods-screen" class="screen">
            <div class="screen-header">
                <button class="back-btn" id="rods-back-btn">‚Üê</button>
                <h2>üé£ Rod Selection</h2>
            </div>
            
            <!-- –ì–ª–∞–≤–Ω–∞—è —É–¥–æ—á–∫–∞ –≤ —Ü–µ–Ω—Ç—Ä–µ -->
            <div class="rod-selector-container">
                <div class="rod-carousel">
                    <!-- Navigation arrows -->
                    <button class="carousel-arrow carousel-arrow-left" id="prev-rod-btn">
                        ‚Äπ
                    </button>
                    
                    <!-- Main rod -->
                    <div class="main-rod-display" id="main-rod-display">
                        <!-- Rod will be loaded dynamically -->
                    </div>
                    
                    <!-- Right arrow -->
                    <button class="carousel-arrow carousel-arrow-right" id="next-rod-btn">
                        ‚Ä∫
                    </button>
                </div>
                
                <!-- Carousel indicators -->
                <div class="carousel-indicators" id="carousel-indicators">
                    <!-- Dots will be generated dynamically -->
                </div>
                
                <!-- Selection button/status -->
                <div class="rod-action-container">
                    <button class="rod-action-btn" id="rod-action-btn">
                        <!-- Button text will change dynamically -->
                    </button>
                </div>
            </div>
        </div>


        <!-- Fish details modal -->
        <div id="fish-modal" class="modal">
            <div class="modal-content" id="fish-details">
                <!-- Fish details will be loaded dynamically -->
            </div>
        </div>

        <!-- BAIT Purchase modal -->
        <div id="purchase-modal" class="modal">
            <div class="modal-content purchase-modal-content">
                <div class="modal-header">
                    <h2>üõí Buy BAIT Tokens</h2>
                    <button class="modal-close" id="purchase-modal-close">&times;</button>
                </div>
                
                <div class="modal-body">
                    <div class="current-balance">
                        <h3>üí∞ Current Balance: <span id="modal-bait-balance">-</span> BAIT</h3>
                    </div>
                    
                    <div class="purchase-options" id="purchase-options">
                        <!-- Products will be loaded dynamically -->
                        <div class="loading">Loading products...</div>
                    </div>
                    
                    <div class="payment-info">
                        <p>‚≠ê <strong>Secure payment through Telegram Stars</strong></p>
                        <p>üí° BAIT tokens are used for fishing. Each cast costs 1 BAIT!</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="/static/js/app.js"></script>
</body>
</html>